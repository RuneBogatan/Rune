<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <title>Rune</title>
  <style>
    body {
      background: black;
      color: #00FF66;
      font-family: monospace;
      padding: 20px;
    }
    button {
      background: black;
      color: #00FF66;
      padding: 10px;
      border: 1px solid #00FF66;
      margin: 5px;
      cursor: pointer;
    }
    #zona_output {
      white-space: pre-wrap;
      border: 1px solid #00FF66;
      padding: 10px;
      min-height: 400px;
      margin-top: 20px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      color: #00FF66;
      margin-top: 20px;
    }
    td {
      border: 1px solid #00FF66;
      padding: 5px;
      vertical-align: top;
    }
  </style>
</head>
<body>
  <h1>Rune</h1>

  <h2> á› Tiraje Aleatorii</h2>
  <button onclick="alegeRuna()">1 RunÄƒ Aleatorie</button>
  <button onclick="alege3Rune()">3 Rune (Crucea NordicÄƒ)</button>
  <button onclick="alegeCruceaX()">Crucea Ã®n X (9 Rune)</button>

  <h2> á› Tiraje Manuale</h2>
  <button onclick="selectRunaManual()">1 RunÄƒ la alegere</button>
  <button onclick="select3RuneManual()">3 Rune â€“ la alegere</button>
  <button onclick="selectCruceaXManual()">Crucea Ã®n X â€“ la alegere (spiralÄƒ)</button>
  <button onclick="salveazaJurnal()">ğŸ’¾ SalveazÄƒ jurnalul</button>

  
<div style="display: flex; flex-direction: row;">
  
<div style="display: flex; flex-direction: column; margin-top: 20px;">
  <b> HartÄƒ vizualÄƒ: Crucea Ã®n X (pentru tiraj 9 rune)</b>
  <pre style="font-size: 18px; margin-bottom: 10px;">
I       -       -       -      II
-       V       -      VI      -
-       -       <span style="color:yellow;">IX</span>     -       -
-     VIII      -     VII      -
IV      -       -       -     III
  </pre>

  <b> Schema tiraj 3 rune</b>
  <pre style="font-size: 16px;">
Trecut â†’      Prezent â†’      Viitor â†’
  </pre>

  <b> LegendÄƒ poziÈ›ii Crucea Ã®n X</b>
  <pre style="font-size: 14px;">
I     â€“ ColÈ›ul stÃ¢nga sus (Nord-Vest)
II    â€“ ColÈ›ul dreapta sus (Nord-Est)
III   â€“ ColÈ›ul dreapta jos (Sud-Est)
IV    â€“ ColÈ›ul stÃ¢nga jos (Sud-Vest)
V     â€“ DiagonalÄƒ din stÃ¢nga jos spre centru
VI    â€“ DiagonalÄƒ din stÃ¢nga sus spre centru
VII   â€“ DiagonalÄƒ din dreapta sus spre centru
VIII  â€“ DiagonalÄƒ din dreapta jos spre centru
IX    â€“ Centru (PoziÈ›ie de sintezÄƒ sau destin)
  </pre>
</div>

<div id="zona_output" style="flex: 1; white-space: pre-wrap; border: 1px solid #00FF66; padding: 10px; min-height: 400px; margin-top: 20px;">
    Aici va apÄƒrea tirajul.
  </div>
  
<pre style="border:1px solid #00FF66; padding:10px; margin-left:20px;">
[1] Mannaz á›—
[2] Gebo áš·
[3] Ansuz áš¨
[4] Othila á›Ÿ
[5] Uruz áš¢
[6] Perthro á›ˆ
[7] Nauthiz áš¾
[8] Inguz á›
[9] Eihwaz á›‡
[10] Algiz á›‰
[11] Fehu áš 
[12] Wunjo áš¹
[13] Jera á›ƒ
[14] Kano áš²
[15] Tiwaz á›
[16] Berkana á›’
[17] Ehwaz á›–
[18] Laguz á›š
[19] Hagalaz áš»
[20] Raido áš±
[21] Thurisaz áš¦
[22] Dagaz á›
[23] Isa á›
[24] Sowelu á›‹
[25] Mister ?

</pre>

</div>


  <script>
/* ====== Memorie pentru Crucea Ã®n X ====== */
let jurnalCruceaX = null;
/* ======================================== */

/* helper pentru <br> din text multi-linie (compat) */
function br(s){
  return (s && s.replaceAll) ? s.replaceAll("\\n","<br>") : String(s).split("\\n").join("<br>");
}

function interpretareRuna(simbol) {
  const dict = {
    "á›": "Claritate, introspecÈ›ie, rÄƒbdare.",
    "á›‡": "ProtecÈ›ie spiritualÄƒ, transformare.",
    "á›‰": "ApÄƒrare, legÄƒturi divine.",
    "á›ˆ": "Secrete, soartÄƒ, revelaÈ›ie.",
    "á›œ": "Completare, moÈ™tenire, unitate.",
    "á›": "Curaj, onoare, justiÈ›ie.",
    "á›‹": "Soare, vitalitate, succes.",
    "á›‚": "ÃnÈ›elepciune, comunicare.",
    "á›ƒ": "RelaÈ›ii, cÄƒlÄƒtorie, armonie.",
    "áš ": "BogÄƒÈ›ie, Ã®nceputuri, abundenÈ›Äƒ.",
    "áš¢": "ForÈ›Äƒ, voinÈ›Äƒ, energie brutÄƒ.",
    "áš¦": "Conflict, provocare, rezistenÈ›Äƒ.",
    "áš¨": "InspiraÈ›ie, ordine, conducere.",
    "áš±": "CÄƒlÄƒtorii, schimbare, miÈ™care.",
    "áš²": "Foc interior, pasiune, creativitate.",
    "áš·": "Daruri, generozitate, echilibru.",
    "áš¹": "PlÄƒcere, bucurie, confort.",
    "ášº": "Transformare, cÄƒinÈ›Äƒ, purificare.",
    "áš¾": "LimitÄƒri, nevoia de adaptare.",
    "á›–": "ÃnÈ›elepciune, memorie, trecut.",
    "á›": "MoÈ™tenire, tradiÈ›ie, Ã®ncheiere.",
    "á›—": "Familie, apartenenÈ›Äƒ, grijÄƒ.",
    "á›š": "IntuiÈ›ie, feminitate, mister.",
    "á›Ÿ": "PÄƒmÃ¢nt, rÄƒdÄƒcini, casÄƒ.",
    "á›": "Putere spiritualÄƒ, transcendere."
  };
  return dict[simbol] || "";
}

function afiseaza(text) {
  let linii = text.split("\n");
  let out = "";
  for (let linie of linii) {
    out += linie + "\n";
    let rune = linie.match(/[á›á›‡á›‰á›ˆá›œá›á›‹á›‚á›ƒáš áš¢áš¦áš¨áš±áš²áš·áš¹ášºáš¾á›–á›á›—á›šá›Ÿá›]/g);
    if (rune) {
      for (let r of rune) {
        let expl = interpretareRuna(r);
        if (expl) out += "   â†’ " + expl + "\n";
      }
    }
  }
  document.getElementById("zona_output").innerText = out.trim();
}

const rune = [
`RunÄƒ 1: Mannaz (á›—)â€“ Sinele, umanitatea
Simbol: mintea, cunoaÈ™terea de sine, legÄƒtura cu ceilalÈ›i
Mesaj: CautÄƒ echilibru Ã®ntre individualitate È™i comunitate. Este o zi bunÄƒ pentru introspecÈ›ie sau pentru a construi relaÈ›ii bazate pe respect reciproc.
ReflecÈ›ie: Cum te vezi prin ochii celorlalÈ›i? Dar prin ochii proprii?`,
`RunÄƒ 2: Gebo (áš·) â€“ Darul, schimbul
Simbol: echilibru, dÄƒruire, relaÈ›ii echitabile
Mesaj: PrimeÈ™te cu inimÄƒ deschisÄƒ ceea ce vine spre tine. Darurile pot fi materiale, dar mai ales emoÈ›ionale sau spirituale.
ReflecÈ›ie: DÄƒruieÈ™ti din abundenÈ›Äƒ sau cu ataÈ™ament? Ai un schimb echitabil cu cei din jur?`,
`RunÄƒ 3: Ansuz (áš¨)â€“ Comunicarea divinÄƒ, inspiraÈ›ia
Simbol: mesaje, adevÄƒr, vocea interioarÄƒ sau spiritualÄƒ
Mesaj: Fii atent la ce se spune È™i la ce nu se spune. AscultÄƒ-È›i intuiÈ›ia, dar È™i pe ceilalÈ›i. InformaÈ›ia esenÈ›ialÄƒ vine uneori pe cÄƒi subtile.
ReflecÈ›ie: Ce vrei cu adevÄƒrat sÄƒ exprimi? CÃ¢nd ai ascultat ultima datÄƒ cu adevÄƒrat pe cineva sau pe tine?`,
`RunÄƒ 4: Othila (á›Ÿ)â€“ MoÈ™tenirea, eliberarea
Simbol: teritoriu, rÄƒdÄƒcini, bagaje familiale sau ancestrale
Mesaj: Este momentul sÄƒ pÄƒstrezi doar ce È›i se potriveÈ™te din trecut È™i sÄƒ eliberezi restul. MoÈ™tenirea nu Ã®nseamnÄƒ lanÈ›uri.
ReflecÈ›ie: Ce valori ai primit È™i ce alegi sÄƒ transmiÈ›i mai departe? Ce ai nevoie sÄƒ laÈ™i Ã®n urmÄƒ?`,
`RunÄƒ 5: Uruz (áš¢)â€“ Puterea brutÄƒ, energia vitalÄƒ
Simbol: forÈ›Äƒ, curaj, instinct, Ã®nceput de ciclu
Mesaj: Energia este disponibilÄƒ, dar trebuie canalizatÄƒ cu Ã®nÈ›elepciune. Azi este o zi bunÄƒ pentru acÈ›iune curajoasÄƒ È™i conÈ™tientÄƒ.
ReflecÈ›ie: Unde simÈ›i forÈ›a vieÈ›ii Ã®n tine? Unde o reprimi? Cum o poÈ›i folosi constructiv?`,
`RunÄƒ 6: Perth (á›ˆ)â€“ Misterul, soarta
Simbol: necunoscutul, jocul sorÈ›ii, intuiÈ›ia
Mesaj: Ceva ascuns va ieÈ™i la luminÄƒ. LasÄƒ misterul sÄƒ se desfÄƒÈ™oare fÄƒrÄƒ a-l forÈ›a.
ReflecÈ›ie: Ce parte din tine rÄƒmÃ¢ne nedezvÄƒluitÄƒ? Ce eÈ™ti pregÄƒtit sÄƒ afli cu adevÄƒrat?`,
`RunÄƒ 7: Nauthiz (áš¾)â€“ Nevoia, lipsa
Simbol: restricÈ›ii, lecÈ›ii dure, voinÈ›Äƒ interioarÄƒ
Mesaj: GreutÄƒÈ›ile actuale sunt necesare pentru maturizare. Ai Ã®n tine puterea de a le transforma Ã®n Ã®nÈ›elepciune.
ReflecÈ›ie: Ce nevoie realÄƒ se ascunde Ã®n spatele frustrÄƒrii? Ce ai de Ã®nvÄƒÈ›at din lipsÄƒ?`,
`RunÄƒ 8: Inguz (á›œ)â€“ Fertilitate, Ã®nceput nou
Simbol: Ã®ncheiere È™i renaÈ™tere, creativitate
Mesaj: Un ciclu se Ã®ncheie È™i altul se pregÄƒteÈ™te. E momentul sÄƒ te deschizi cÄƒtre ceva nou, sÄƒnÄƒtos.
ReflecÈ›ie: Ce vrei sÄƒ creezi acum? Ce vrei sÄƒ laÈ™i Ã®n urmÄƒ cu recunoÈ™tinÈ›Äƒ?`,
`RunÄƒ 9: Eihwaz (á›‡)â€“ TranziÈ›ie, ax spiritual
Simbol: transformare, echilibru Ã®ntre lumi, putere interioarÄƒ
Mesaj: Este un timp de maturizare profundÄƒ. Ai tÄƒrie pentru a face faÈ›Äƒ oricÄƒrei tranziÈ›ii.
ReflecÈ›ie: Ce etapÄƒ de viaÈ›Äƒ se transformÄƒ acum? Ce te ancoreazÄƒ Ã®n proces?`,
`RunÄƒ 10: Algiz (á›‰)â€“ ProtecÈ›ie, conexiune divinÄƒ
Simbol: instinct, Ã®nger pÄƒzitor, semne din univers
Mesaj: EÈ™ti protejat, dar trebuie sÄƒ fii vigilent. UrmeazÄƒ-È›i instinctul, nu nega avertismentele subtile.
ReflecÈ›ie: Ce semne ai ignorat? Cine sau ce te protejeazÄƒ fÄƒrÄƒ sÄƒ-È›i dai seama?`,
`RunÄƒ 11: Fehu (áš )â€“ AbundenÈ›Äƒ, avere mobilÄƒ
Simbol: bunuri, Ã®nceput de ciclu, cÃ¢È™tig sau pierdere
Mesaj: Ceea ce obÈ›ii acum are potenÈ›ial, dar cere atenÈ›ie. Prosperitatea vine cÃ¢nd È™tii sÄƒ o gestionezi.
ReflecÈ›ie: Ce Ã®nseamnÄƒ â€valoareâ€ pentru tine? Ce te defineÈ™te dincolo de posesiuni?`,
`RunÄƒ 12: Wunjo (áš¹)â€“ Bucurie, Ã®mplinire
Simbol: armonie, satisfacÈ›ie, recunoÈ™tinÈ›Äƒ
Mesaj: BucurÄƒ-te de ce ai È™i nu lua pacea ca pe ceva garantat. Este momentul pentru recunoÈ™tinÈ›Äƒ sincerÄƒ.
ReflecÈ›ie: Ce Ã®È›i aduce bucurie realÄƒ? Cu cine o Ã®mparÈ›i?`,
`RunÄƒ 13: Jera (á›ƒ)â€“ Recolta, timpul potrivit
Simbol: ciclicitate, muncÄƒ rÄƒsplÄƒtitÄƒ, rÄƒbdare
Mesaj: Ai semÄƒnat â€“ acum culegi. Ceva din trecut Ã®È›i aduce roade azi.
ReflecÈ›ie: Ce ai cultivat cu intenÈ›ie? Ce culegi acum È™i ce È›i-ai dori sÄƒ vezi diferit?`,
`RunÄƒ 14: Kano (áš²)â€“ Claritate, fÄƒclie interioarÄƒ
Simbol: iluminare, creativitate, pasiune
Mesaj: Este momentul sÄƒ aduci luminÄƒ Ã®n Ã®ntuneric. Aprinde-È›i flacÄƒra interioarÄƒ.
ReflecÈ›ie: Ce te inspirÄƒ cu adevÄƒrat? Ce te opreÈ™te sÄƒ strÄƒluceÈ™ti?`,
`RunÄƒ 15: Tiwaz (á›)â€“ AdevÄƒr, sacrificiu nobil
Simbol: onoare, justiÈ›ie, luptÄƒ dreaptÄƒ
Mesaj: Fii curajos Ã®n a apÄƒra adevÄƒrul tÄƒu. Unele bÄƒtÄƒlii meritÄƒ duse.
ReflecÈ›ie: Pentru ce eÈ™ti dispus sÄƒ lupÈ›i cu demnitate? Unde te trÄƒdezi prin compromis?`,
`RunÄƒ 16: Berkana (á›’)â€“ NaÈ™tere, vindecare
Simbol: creÈ™tere, maternitate, Ã®nceput blÃ¢nd
Mesaj: E timpul sÄƒ Ã®ngrijeÈ™ti ceva nou â€“ o relaÈ›ie, un proiect, o parte din tine.
ReflecÈ›ie: Ce are nevoie de protecÈ›ie Ã®n viaÈ›a ta acum? Ce creÈ™te sub tÄƒcere?`,
`RunÄƒ 17: Ehwaz (á›–)â€“ Progres, parteneriat
Simbol: miÈ™care Ã®n armonie, Ã®ncredere reciprocÄƒ
Mesaj: EvoluÈ›ia vine din cooperare. MiÈ™cÄƒ-te Ã®mpreunÄƒ, nu Ã®mpotriva.
ReflecÈ›ie: Ce relaÈ›ie cere ajustare? Cine este partenerul tÄƒu de drum?`,
`RunÄƒ 18: Laguz (á›š)â€“ IntuiÈ›ie, curgere emoÈ›ionalÄƒ
Simbol: apÄƒ, vis, feminitate sacrÄƒ
Mesaj: AscultÄƒ-È›i inima. LasÄƒ-te purtat de flux, nu Ã®nota contra lui.
ReflecÈ›ie: Unde te opui curentului? Ce emoÈ›ie are nevoie sÄƒ curgÄƒ liber?`,
`RunÄƒ 19: Hagalaz (ášº)â€“ Schimbare bruscÄƒ, haos creativ
Simbol: dezintegrare, curÄƒÈ›are prin crizÄƒ
Mesaj: Ceva aparent distructiv aduce eliberare. AcceptÄƒ furtuna.
ReflecÈ›ie: Ce parte din tine trebuie sÄƒ se prÄƒbuÈ™eascÄƒ pentru a renaÈ™te?`,
`RunÄƒ 20: Raido (áš±)â€“ CÄƒlÄƒtorie, decizie
Simbol: drum iniÈ›iatic, scop, direcÈ›ie
Mesaj: Nu conteazÄƒ doar destinaÈ›ia, ci È™i felul Ã®n care mergi. ClarificÄƒ-È›i intenÈ›ia.
ReflecÈ›ie: Ãn ce direcÈ›ie mergi? Este drumul ales cu adevÄƒrat al tÄƒu?`,
`RunÄƒ 21: Thurisaz (áš¦)â€“ ForÈ›Äƒ, obstacol
Simbol: protecÈ›ie agresivÄƒ, conflict necesar
Mesaj: ÃnfruntÄƒ ce te opreÈ™te. Uneori forÈ›a e necesarÄƒ, dar nu distrugÄƒtoare.
ReflecÈ›ie: Ce barierÄƒ Ã®È›i apÄƒrÄƒ de fapt o ranÄƒ? Poate fi vindecatÄƒ altfel?`,
`RunÄƒ 22: Dagaz (á›)â€“ Trezire, transformare
Simbol: luminÄƒ, nou Ã®nceput, eliberare radicalÄƒ
Mesaj: Este momentul sÄƒ vezi lucrurile diferit. E ziua Ã®n care devii altcineva.
ReflecÈ›ie: Ce schimbare a venit Ã®n tine fÄƒrÄƒ sÄƒ o forÈ›ezi? Ce a ieÈ™it la luminÄƒ?`,
`RunÄƒ 23: Isa (á›)â€“ GheaÈ›Äƒ, stagnare
Simbol: pauzÄƒ, Ã®ngheÈ›, rÄƒbdare
Mesaj: Acum nu e timpul pentru acÈ›iune. ObservÄƒ, nu reacÈ›iona. Totul e Ã®n repaus aparent.
ReflecÈ›ie: Ce parte din viaÈ›a ta e Ã®n aÈ™teptare? PoÈ›i accepta nemiÈ™carea ca parte din drum?`,
`RunÄƒ 24: Sowelu (á›‹)â€“ Soare, Ã®mplinire
Simbol: vitalitate, succes, plenitudine
Mesaj: E momentul Ã®mplinirii. LasÄƒ lumina ta sÄƒ strÄƒluceascÄƒ. Ai parcurs drumul.
ReflecÈ›ie: Ce Ã®È›i aduce strÄƒlucire autenticÄƒ? Ce Ã®È›i Ã®ncarcÄƒ sufletul de viaÈ›Äƒ?`,
`RunÄƒ 25: Mister (?)â€“ Destin necunoscut, Ã®ncredere
Simbol: necunoscutul, spaÈ›iul gol, voia zeilor
Mesaj: LasÄƒ viaÈ›a sÄƒ curgÄƒ fÄƒrÄƒ sÄƒ controlezi. Nu ai toate rÄƒspunsurile acum â€“ È™i e perfect aÈ™a.
ReflecÈ›ie: PoÈ›i accepta ceea ce nu se poate cunoaÈ™te Ã®ncÄƒ? Unde È›i-e Ã®ncrederea cÃ¢nd e liniÈ™te?`
];

function clearOutput() {
  document.getElementById("zona_output").innerHTML = "";
  /* resetÄƒm memoria doar cÃ¢nd schimbÄƒm tipul de tiraj din butoane care chiar curÄƒÈ›Äƒ ecranul */
  jurnalCruceaX = null;
}

function alegeRuna() {
  const nr = Math.floor(Math.random() * rune.length);
  clearOutput();
  document.getElementById("zona_output").innerText = `[RunÄƒ aleasÄƒ: ${nr + 1}]

` + rune[nr];
}

function alege3Rune() {
  let indices = [];
  while (indices.length < 3) {
    let r = Math.floor(Math.random() * rune.length);
    if (!indices.includes(r)) indices.push(r);
  }
  const [t, p, v] = indices;
  const text = `Trecut â†’
` + rune[t] + `

Prezent â†’
` + rune[p] + `

Viitor â†’
` + rune[v];
  clearOutput();
  document.getElementById("zona_output").innerText = text;
}

function alegeCruceaX() {
  const poz_keys = ["I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX"];
  const grid = [
    ["I", "", "", "", "II"],
    ["", "V", "", "VI", ""],
    ["", "", "IX", "", ""],
    ["", "VIII", "", "VII", ""],
    ["IV", "", "", "", "III"]
  ];

  // alegem 9 rune distincte
  let indices = [];
  while (indices.length < 9) {
    let r = Math.floor(Math.random() * rune.length);
    if (!indices.includes(r)) indices.push(r);
  }
  // map poziÈ›ii -> text runÄƒ
  let poz_map = {};
  poz_keys.forEach((key, i) => {
    poz_map[key] = rune[indices[i]];
  });
  jurnalCruceaX = {...poz_map}; // memorÄƒm pentru jurnal

  // randÄƒm tabelul fÄƒrÄƒ a apela clearOutput (ca sÄƒ nu pierdem memoria)
  let tbl = "<table>";
  for (let row of grid) {
    tbl += "<tr>";
    for (let cell of row) {
      if (cell && poz_map[cell]) {
        tbl += `<td><b>[${cell}]</b><br>` + br(poz_map[cell]) + `</td>`;
      } else {
        tbl += "<td>&nbsp;</td>";
      }
    }
    tbl += "</tr>";
  }
  tbl += "</table>";
  document.getElementById("zona_output").innerHTML = tbl;
}

function selectRunaManual() {
  const nr = parseInt(prompt("Alege numÄƒrul rune (1â€“25):"));
  if (nr >= 1 && nr <= 25) {
    clearOutput();
    document.getElementById("zona_output").innerText = `[RunÄƒ aleasÄƒ: ${nr}]

` + rune[nr - 1];
  } else {
    alert("NumÄƒr invalid. Alege Ã®ntre 1 È™i 25.");
  }
}

function select3RuneManual() {
  const t = parseInt(prompt("Trecut â€“ RunÄƒ (1â€“25):"));
  const p = parseInt(prompt("Prezent â€“ RunÄƒ (1â€“25):"));
  const v = parseInt(prompt("Viitor â€“ RunÄƒ (1â€“25):"));
  if ([t, p, v].every(n => n >= 1 && n <= 25)) {
    const text = `Trecut â†’
` + rune[t - 1] + `

Prezent â†’
` + rune[p - 1] + `

Viitor â†’
` + rune[v - 1];
    clearOutput();
    document.getElementById("zona_output").innerText = text;
  } else {
    alert("Toate cele 3 rune trebuie sÄƒ fie Ã®ntre 1 È™i 25.");
  }
}

function selectCruceaXManual() {
  const poz_keys = ["I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX"];
  const grid = [
    ["I", "", "", "", "II"],
    ["", "V", "", "VI", ""],
    ["", "", "IX", "", ""],
    ["", "VIII", "", "VII", ""],
    ["IV", "", "", "", "III"]
  ];
  let poz_map = {};
  for (let i = 0; i < poz_keys.length; i++) {
    let nr = parseInt(prompt(`Alege runa pentru poziÈ›ia ${poz_keys[i]} (1â€“25):`));
    if (nr >= 1 && nr <= 25) {
      poz_map[poz_keys[i]] = rune[nr - 1];
    } else {
      alert("NumÄƒr invalid. Oprire.");
      return;
    }
  }

  jurnalCruceaX = {...poz_map}; // memorÄƒm pentru jurnal

  // randÄƒm tabelul direct (nu apelÄƒm clearOutput aici)
  let tbl = "<table>";
  for (let row of grid) {
    tbl += "<tr>";
    for (let cell of row) {
      if (cell && poz_map[cell]) {
        tbl += `<td><b>[${cell}]</b><br>` + br(poz_map[cell]) + `</td>`;
      } else {
        tbl += "<td>&nbsp;</td>";
      }
    }
    tbl += "</tr>";
  }
  tbl += "</table>";
  document.getElementById("zona_output").innerHTML = tbl;
}

function salveazaJurnal() {
  const now = new Date();
  const timestamp = now.toLocaleString('ro-RO');
  const iso = now.toISOString().slice(0, 19).replace(/:/g, "-");

  const header = "ğŸ•“ Jurnal de tiraj runic â€“ " + timestamp + "\n\n";

  // dacÄƒ avem Crucea Ã®n X, scriem Ã®n ordine fixÄƒ I..IX
  if (jurnalCruceaX && typeof jurnalCruceaX === "object") {
    const pozOrdine = ["I","II","III","IV","V","VI","VII","VIII","IX"];
    let textOrd = "";
    for (let poz of pozOrdine) {
      if (jurnalCruceaX[poz]) {
        textOrd += `[${poz}]\n` + jurnalCruceaX[poz] + "\n\n";
      }
    }
    const fullText = header + textOrd.trim();
    const blob = new Blob([fullText], { type: "text/plain" });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "interpretare_rune_" + iso + ".txt";
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    return;
  }

  // fallback: 1 runÄƒ / 3 rune etc.
  const zona = document.getElementById("zona_output");
  const text = (zona.innerText || zona.textContent || "").trim();
  if (!text) {
    alert("Nimic de salvat. Ecranul este gol.");
    return;
  }
  const fullText = header + text;
  const blob = new Blob([fullText], { type: "text/plain" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "interpretare_rune_" + iso + ".txt";
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}
  </script>
</body>
</html>
